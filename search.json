[{"path":"https://github.com/ndpvh/denoiser/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Niels Vanhasbroeck. Maintainer.","code":""},{"path":"https://github.com/ndpvh/denoiser/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"person, c) c= (2025). denoiser: Noising denoising spatial data. R package version 0.1.0, https://github.com/ndpvh/denoiser.","code":"@Manual{,   title = {denoiser: Noising and denoising spatial data},   author = {{person} and comment = c)},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/ndpvh/denoiser}, }"},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Noising and denoising spatial data","text":"package contains functions adding noise filtering noise positional data, data contains measurements x- y-coordinates. package implements code allows addition realistic noise simulated data user employ realistic filtering pipeline simulated empirical data, therefore allowing realistic recovery studies pedestrian modelers. Answers specific need Minds Mobile Agents pedestrian model implemented predped package, can broadly applied. implementation package defaults provided arguments functions heavily based results study conducted Dr. Niels Vanhasbroeck Prof. Dr. Andrew Heathcote, repository can find .","code":""},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/index.html","id":"installation","dir":"","previous_headings":"Getting started","what":"Installation","title":"Noising and denoising spatial data","text":"can install package Github command: installed, can load package library function.","code":"remotes::install_github(\"ndpvh/denoiser\") library(denoiser)"},{"path":"https://github.com/ndpvh/denoiser/index.html","id":"usage","dir":"","previous_headings":"Getting started","what":"Usage","title":"Noising and denoising spatial data","text":"primary functionality package provided two functions, namely noiser denoiser. Imagine data contains circular movement, following case: one can add “realistic” noise data using noiser function. Specifically, call: decrease noise , call denoiser function: details use functions, refer reader Documentation.","code":"# Create x- and y-coordinates for a person walking in a full circle angles <- seq(0, 2 * pi, length.out = 50) data <- data.frame(     time = 1:50,     x = 10 * cos(angles),     y = 10 * sin(angles) ) # Noise up the data noised_up <- noiser(     data,     # Arguments defining the noising ) # Denoise the data denoised <- denoiser(     noised_up,     # Arguments defining the denoising )"},{"path":"https://github.com/ndpvh/denoiser/index.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting help","title":"Noising and denoising spatial data","text":"can find detailed documentation functions package well examples Documentation site. encounter bug, please file issue minimal working example Github.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Bin observations — bin","title":"Bin observations — bin","text":"Summarize observations within given time window, typically idea single observation per bin. Minds Mobile Agents model assumes pedestrians take walking decision every 0.5 seconds. function ensures data reflects assumption binning available data within time-frame. course, time window can adjusted user fit purposes.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bin observations — bin","text":"","code":"bin(data, span = 0.5, fx = mean, cols = NULL, .by = NULL)"},{"path":"https://github.com/ndpvh/denoiser/reference/bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bin observations — bin","text":"data Dataframe contains information location (x- y-coordinates) time measurement taken. default, bin() assume information contained within columns \"x\", \"y\", \"time\" respectively. case, either change column names data specify cols argument. span Numeric denoting size bins. pertain values \"time\" variable. Defaults 0.5. fx Function execute data falls within bin. executed \"x\" \"y\" columns separately ouput single value. Defaults function mean(). cols Named vector named list containing relevant column names data contain prespecified column names \"time\", \"x\", \"y\". labels conform prespecified column names values given locations contain corresponding column names dataset. Defaults NULL, therefore assuming structure explained data. .String denoting whether moving window taken respect given grouping variable. Defaults NULL.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bin observations — bin","text":"Binned dataframe similar structure data","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Bin observations — bin","text":"Note variables required provided function, get lost translation. reason difficult implement meaningful aggregation across different types data user may supply.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bin observations — bin","text":"","code":"# Generate data for illustration purposes data <- data.frame(   X = rnorm(100),   Y = rnorm(100),   seconds = rep(1:50, times = 2) / 10,   tag = rep(1:2, each = 50) )  # Bin the data together by taking the average for each second bin(   data,   span = 1,   fx = mean,   cols = c(     \"time\" = \"seconds\",     \"x\" = \"X\",     \"y\" = \"Y\"   ),   .by = \"tag\" ) #>    seconds           X           Y tag #> 1     0.60 -0.26711990 -0.59840370   1 #> 2     1.65 -0.10311363  0.50638281   1 #> 3     2.65 -0.09548419  0.16530901   1 #> 4     3.65 -0.01592759 -0.28837860   1 #> 5     4.60  0.28795196  0.53248461   1 #> 6     0.60  0.07446149  0.04194506   2 #> 7     1.65 -0.24860377 -0.42394017   2 #> 8     2.65  0.72176228  0.20049239   2 #> 9     3.65  0.06384934  0.77397261   2 #> 10    4.60  0.48828897  0.38153518   2"},{"path":"https://github.com/ndpvh/denoiser/reference/constant_velocity.html","id":null,"dir":"Reference","previous_headings":"","what":"Constant velocity model — constant_velocity","title":"Constant velocity model — constant_velocity","text":"model assumes movement occurs constant velocity, changes acceleration considered noise. previous study, found model performed reasonably well simulated observed pedestrian data.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/constant_velocity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Constant velocity model — constant_velocity","text":"","code":"constant_velocity(data, error = 0.031^2)"},{"path":"https://github.com/ndpvh/denoiser/reference/constant_velocity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Constant velocity model — constant_velocity","text":"data data.frame containing data base parameters constant velocity model. function assumes data.frame contains columns \"time\", \"x\", \"y\" containing time observed position (x, y) measured respectively. error Numeric numerical vector containing assumed value measurement error variance x- y-direction. consist either 1 2 values. 1 value provided, measurement error variance assumed dimensions. Defaults 0.031^2, value obtained experimentally.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/constant_velocity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Constant velocity model — constant_velocity","text":"Named list containing parameters relevant Kalman filter.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/constant_velocity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Constant velocity model — constant_velocity","text":"constant velocity model based assumption velocity remains constant, acceleration can put 0. means can use following movement equation model changes positions, : $$\\begin{\\bmatrix}   x \\\\   y \\\\ \\end{bmatrix}_i = \\begin{\\bmatrix}   x \\\\   y \\\\ \\end{bmatrix}_{- 1} + \\begin{bmatrix}   v_x \\\\   v_y \\\\ \\end{bmatrix} \\Delta t$$ \\(x\\) \\(y\\) represent x- y-coordinates measurements time \\(t_i\\) \\(t_{- 1}\\) taken. variables \\(v_x\\) \\(v_y\\) represent speeds x- y-direction system moving, \\(\\Delta t = t_i - t_{- 1}\\) represents time two measurements. basic equation parameters Kalman filter derived. constant velocity model, keep track positional data respective velocities particular time point \\(t_i\\). means latent state \\(\\mathbf{x}\\) consists 4 values iteration, namely: $$\\mathbf{x}_i = \\begin{bmatrix}   x \\\\   y \\\\   v_x \\\\   v_y \\\\ \\end{bmatrix}_i$$ specification, define transition matrix \\(F\\) covariance matrix \\(W\\) movement equation follows: $$F_i = \\begin{bmatrix}   1 & 0 & \\Delta t & 0 \\\\   0 & 1 & 0 & \\Delta t \\\\   0 & 0 & 1 & 0 \\\\   0 & 0 & 0 & 1 \\\\ \\end{bmatrix}_i$$ $$W_i = \\begin{bmatrix}   \\Delta t^2 \\sigma_{v_x}^2 & 0 & \\Delta t \\sigma_{v_x}^2 & 0 \\\\   0 & \\Delta t^2 \\sigma_{v_y}^2 & 0 & \\Delta t \\sigma_{v_y}^2 \\\\   \\Delta t \\sigma_{v_x}^2 & 0 & \\sigma_{v_x}^2 & 0 \\\\   0 & \\Delta t \\sigma_{v_y}^2 & 0 & \\sigma_{v_y}^2 \\\\ \\end{bmatrix}_i$$ equations, \\(\\Delta t\\) represents time elapsed two observations, \\(\\Delta t = t_i - t_{- 1}\\). variances \\(\\sigma_{v_x}^2\\) \\(\\sigma_{v_y}^2\\) capture variation speeds \\(v_x\\) \\(v_y\\). Within function, estimate variances computing observed variance speeds subtracting assumed measurement error , x-direction, obtain: $$\\sigma_{v_x}^2 = VAR[v_x]^\\text{obs} - \\frac{2}{E[\\Delta t]^2} \\sigma_{\\epsilon, x}^2$$ \\(\\sigma_{\\epsilon, x}^2\\) \\(\\sigma_{\\epsilon, y}^2\\) provided error argument. Note assume covariance two dimensions movement covariance \\(W\\). Typically, movement equation also includes external forces may influence observed behavior. constant velocity model described function, assume parameters influence observed behavior, meaning set parameters \\(B\\) \\(\\mathbf{u}\\) 0. measurement equation, define measurement matrix \\(H\\) measurement error covariance matrix \\(R\\) : $$H = \\begin{bmatrix}   1 & 0 & 0 & 0 \\\\   0 & 1 & 0 & 0 \\\\ \\end{bmatrix}$$ $$R = \\begin{bmatrix}   \\sigma_\\epsilon^2 & 0 \\\\   0 & \\sigma_\\epsilon^2 \\end{bmatrix}$$ \\(\\sigma_\\epsilon^2\\) provided error argument. Importantly, matrix \\(R\\) transformed Cholesky decomposition, function kalman_filter assumes Cholesky decomposition provided stability purposes. Note two matrices time-independent: assumed constant iteration (long-term changes time) depend time obsevations \\(\\Delta t\\). Furthermore note measurement error covariance \\(R\\) can defined variables measurements , namely x- y-coordinates. error exists speeds \\(v_x\\) \\(v_y\\). Similarly, note measurement matrix \\(H\\) maps predictions latent level predictions measurement level, acknowledges measured x- y-coordinates. Finally, need define initial conditions Kalman filter starts. initial conditions taken observed initial locations speeds (\\(\\mathbf{x}_0\\)) observed variances variables (\\(P_0\\)). Note provide covariance matrix \\(P_0\\) diagonal simplicity.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/constant_velocity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Constant velocity model — constant_velocity","text":"","code":"# Generate data for illustration purposes. Movement in circular motion at a # pace of 1.27m/s with some added noise of SD = 10cm. # some added noise angles <- seq(0, 4 * pi, length.out = 100) coordinates <- 10 * cbind(cos(angles), sin(angles)) coordinates <- coordinates + rnorm(200, mean = 0, sd = 0.1)  data <- data.frame(   x = coordinates[, 1],   y = coordinates[, 2],   time = 1:100 )  # Generate the parameters of the Kalman filter according to the constant  # velocity model with an assumed measurement error variance of 0.01 constant_velocity(   data,    error = 0.1^2 ) #> $z #>               x            y time delta_t      delta_x      delta_y #> 1     9.9929143   0.10771165    1       0  0.000000000  0.000000000 #> 2     9.8923328   1.38408209    2       1 -0.100581497  1.276370439 #> 3     9.4348190   2.53131908    3       1 -0.457513749  1.147236989 #> 4     9.2902280   3.67658403    4       1 -0.144591017  1.145264950 #> 5     8.6286429   4.92358279    5       1 -0.661585114  1.246998757 #> 6     7.9893848   6.12649497    6       1 -0.639258123  1.202912176 #> 7     7.0309749   7.08925635    7       1 -0.958409822  0.962761382 #> 8     6.5704199   7.60260259    8       1 -0.460555062  0.513346241 #> 9     5.1569148   8.44326198    9       1 -1.413505036  0.840659395 #> 10    4.1200863   8.97937381   10       1 -1.036828495  0.536111824 #> 11    3.0478400   9.60493301   11       1 -1.072246332  0.625559206 #> 12    1.6094305   9.66614281   12       1 -1.438409545  0.061209792 #> 13    0.5300333  10.02800779   13       1 -1.079397152  0.361864984 #> 14   -0.7849890   9.97276117   14       1 -1.315022292 -0.055246619 #> 15   -1.9922152   9.90599088   15       1 -1.207226260 -0.066770290 #> 16   -3.2291390   9.42431607   16       1 -1.236923755 -0.481674810 #> 17   -4.5858961   8.85430413   17       1 -1.356757110 -0.570011936 #> 18   -5.4450800   8.34557627   18       1 -0.859183924 -0.508727866 #> 19   -6.5825009   7.62254910   19       1 -1.137420900 -0.723027168 #> 20   -7.4602019   6.70208134   20       1 -0.877700995 -0.920467760 #> 21   -8.2327454   5.81835187   21       1 -0.772543454 -0.883729469 #> 22   -8.8759244   4.58946779   22       1 -0.643179005 -1.228884083 #> 23   -9.4967695   3.63284589   23       1 -0.620845083 -0.956621900 #> 24   -9.6309589   2.05548564   24       1 -0.134189399 -1.577360249 #> 25   -9.9206768   0.99134928   25       1 -0.289717915 -1.064136354 #> 26  -10.0422357  -0.17788156   26       1 -0.121558895 -1.169230838 #> 27   -9.8035136  -1.54398613   27       1  0.238722091 -1.366104575 #> 28   -9.7478256  -2.75187054   28       1  0.055687973 -1.207884413 #> 29   -9.1373420  -3.90408981   29       1  0.610483568 -1.152219269 #> 30   -8.7111156  -5.33472943   30       1  0.426226483 -1.430639616 #> 31   -7.7858281  -6.06075130   31       1  0.925287468 -0.726021873 #> 32   -7.1710007  -7.14386972   32       1  0.614827368 -1.083118420 #> 33   -6.0489915  -7.92811543   33       1  1.122009185 -0.784245708 #> 34   -5.0639535  -8.53361998   34       1  0.985038058 -0.605504549 #> 35   -3.9479708  -9.33707727   35       1  1.115982646 -0.803457288 #> 36   -2.5972137  -9.75152697   36       1  1.350757164 -0.414449699 #> 37   -1.3078108  -9.88721508   37       1  1.289402864 -0.135688115 #> 38   -0.3273101  -9.91345074   38       1  0.980500691 -0.026235655 #> 39    1.0181005  -9.96181843   39       1  1.345410617 -0.048367695 #> 40    2.4893527  -9.50944683   40       1  1.471252221  0.452371604 #> 41    3.6788812  -9.35257054   41       1  1.189528465  0.156876287 #> 42    4.8430875  -8.95381834   42       1  1.164206341  0.398752200 #> 43    5.6574420  -8.25998860   43       1  0.814354486  0.693829743 #> 44    6.9233852  -7.17545621   44       1  1.265943184  1.084532385 #> 45    7.6607570  -6.43588346   45       1  0.737371824  0.739572753 #> 46    8.4047466  -5.45013630   46       1  0.743989621  0.985747162 #> 47    9.0734082  -4.30987063   47       1  0.668661560  1.140265668 #> 48    9.5136035  -3.04168817   48       1  0.440195262  1.268182460 #> 49    9.7362655  -1.95040697   49       1  0.222662080  1.091281202 #> 50    9.9295075  -0.64878189   50       1  0.193241927  1.301625083 #> 51    9.8605026   0.68688500   51       1 -0.069004827  1.335666881 #> 52    9.7441146   2.06587025   52       1 -0.116388006  1.378985259 #> 53    9.6462953   3.26520018   53       1 -0.097819323  1.199329924 #> 54    8.9464050   4.44976844   54       1 -0.699890288  1.184568257 #> 55    8.4415128   5.36800745   55       1 -0.504892255  0.918239013 #> 56    7.6124391   6.61058861   56       1 -0.829073692  1.242581165 #> 57    6.7246112   7.29076791   57       1 -0.887827903  0.680179297 #> 58    5.9465801   8.05918417   58       1 -0.778031066  0.768416255 #> 59    4.7376787   8.78015049   59       1 -1.208901431  0.720966320 #> 60    3.4255301   9.44776625   60       1 -1.312148577  0.667615762 #> 61    2.3565590   9.79942150   61       1 -1.068971083  0.351655255 #> 62    1.0871584  10.11873298   62       1 -1.269400628  0.319311477 #> 63   -0.2492937   9.98823441   63       1 -1.336452052 -0.130498573 #> 64   -1.6333636   9.99645976   64       1 -1.384069974  0.008225348 #> 65   -2.4754021   9.46709132   65       1 -0.842038460 -0.529368432 #> 66   -3.9602638   9.14034099   66       1 -1.484861750 -0.326750335 #> 67   -5.0102603   8.77030323   67       1 -1.049996463 -0.370037762 #> 68   -6.0321009   7.94023639   68       1 -1.021840611 -0.830066831 #> 69   -7.0086590   7.14482292   69       1 -0.976558074 -0.795413479 #> 70   -8.0782886   6.11174692   70       1 -1.069629563 -1.033075998 #> 71   -8.5916201   5.04072900   71       1 -0.513331596 -1.071017917 #> 72   -9.1498551   3.91176305   72       1 -0.558234949 -1.128965950 #> 73   -9.5941411   2.78346792   73       1 -0.444286021 -1.128295132 #> 74   -9.6866145   1.69524867   74       1 -0.092473383 -1.088219251 #> 75   -9.7790898   0.35778945   75       1 -0.092475269 -1.337459214 #> 76   -9.8837478  -0.99765268   76       1 -0.104658005 -1.355442136 #> 77   -9.6775995  -2.21643043   77       1  0.206148243 -1.218777747 #> 78   -9.4277473  -3.29753320   78       1  0.249852181 -1.081102768 #> 79   -8.7871543  -4.54897082   79       1  0.640593048 -1.251437620 #> 80   -8.3286710  -5.70530749   80       1  0.458483328 -1.156336667 #> 81   -7.3963065  -6.67754507   81       1  0.932364485 -0.972237589 #> 82   -6.5163591  -7.55401914   82       1  0.879947425 -0.876474063 #> 83   -5.5025332  -8.28708584   83       1  1.013825862 -0.733066707 #> 84   -4.3276826  -8.95785462   84       1  1.174850592 -0.670768776 #> 85   -3.3648294  -9.44924951   85       1  0.962853170 -0.491394889 #> 86   -2.0262829  -9.69494006   86       1  1.338546524 -0.245690550 #> 87   -0.6509583 -10.03702275   87       1  1.375324577 -0.342082695 #> 88    0.4374459  -9.95493324   88       1  1.088404193  0.082089513 #> 89    1.7190731  -9.88929130   89       1  1.281627286  0.065641940 #> 90    2.9470293  -9.45559630   90       1  1.227956162  0.433694999 #> 91    4.0531973  -8.91228828   91       1  1.106167956  0.543308022 #> 92    5.3203272  -8.56773627   92       1  1.267129945  0.344552014 #> 93    6.4659674  -7.76061361   93       1  1.145640201  0.807122654 #> 94    7.0858379  -6.69737113   94       1  0.619870524  1.063242486 #> 95    7.9111002  -6.06324790   95       1  0.825262256  0.634123229 #> 96    8.8261715  -4.74606944   96       1  0.915071319  1.317178455 #> 97    9.3460926  -3.73694545   97       1  0.519921068  1.009123990 #> 98    9.8907147  -2.54928273   98       1  0.544622171  1.187662725 #> 99    9.8839357  -1.09231343   99       1 -0.006779056  1.456969296 #> 100   9.8935536  -0.08452478  100       1  0.009617892  1.007788650 #>          speed_x      speed_y #> 1            NaN          NaN #> 2   -0.100581497  1.276370439 #> 3   -0.457513749  1.147236989 #> 4   -0.144591017  1.145264950 #> 5   -0.661585114  1.246998757 #> 6   -0.639258123  1.202912176 #> 7   -0.958409822  0.962761382 #> 8   -0.460555062  0.513346241 #> 9   -1.413505036  0.840659395 #> 10  -1.036828495  0.536111824 #> 11  -1.072246332  0.625559206 #> 12  -1.438409545  0.061209792 #> 13  -1.079397152  0.361864984 #> 14  -1.315022292 -0.055246619 #> 15  -1.207226260 -0.066770290 #> 16  -1.236923755 -0.481674810 #> 17  -1.356757110 -0.570011936 #> 18  -0.859183924 -0.508727866 #> 19  -1.137420900 -0.723027168 #> 20  -0.877700995 -0.920467760 #> 21  -0.772543454 -0.883729469 #> 22  -0.643179005 -1.228884083 #> 23  -0.620845083 -0.956621900 #> 24  -0.134189399 -1.577360249 #> 25  -0.289717915 -1.064136354 #> 26  -0.121558895 -1.169230838 #> 27   0.238722091 -1.366104575 #> 28   0.055687973 -1.207884413 #> 29   0.610483568 -1.152219269 #> 30   0.426226483 -1.430639616 #> 31   0.925287468 -0.726021873 #> 32   0.614827368 -1.083118420 #> 33   1.122009185 -0.784245708 #> 34   0.985038058 -0.605504549 #> 35   1.115982646 -0.803457288 #> 36   1.350757164 -0.414449699 #> 37   1.289402864 -0.135688115 #> 38   0.980500691 -0.026235655 #> 39   1.345410617 -0.048367695 #> 40   1.471252221  0.452371604 #> 41   1.189528465  0.156876287 #> 42   1.164206341  0.398752200 #> 43   0.814354486  0.693829743 #> 44   1.265943184  1.084532385 #> 45   0.737371824  0.739572753 #> 46   0.743989621  0.985747162 #> 47   0.668661560  1.140265668 #> 48   0.440195262  1.268182460 #> 49   0.222662080  1.091281202 #> 50   0.193241927  1.301625083 #> 51  -0.069004827  1.335666881 #> 52  -0.116388006  1.378985259 #> 53  -0.097819323  1.199329924 #> 54  -0.699890288  1.184568257 #> 55  -0.504892255  0.918239013 #> 56  -0.829073692  1.242581165 #> 57  -0.887827903  0.680179297 #> 58  -0.778031066  0.768416255 #> 59  -1.208901431  0.720966320 #> 60  -1.312148577  0.667615762 #> 61  -1.068971083  0.351655255 #> 62  -1.269400628  0.319311477 #> 63  -1.336452052 -0.130498573 #> 64  -1.384069974  0.008225348 #> 65  -0.842038460 -0.529368432 #> 66  -1.484861750 -0.326750335 #> 67  -1.049996463 -0.370037762 #> 68  -1.021840611 -0.830066831 #> 69  -0.976558074 -0.795413479 #> 70  -1.069629563 -1.033075998 #> 71  -0.513331596 -1.071017917 #> 72  -0.558234949 -1.128965950 #> 73  -0.444286021 -1.128295132 #> 74  -0.092473383 -1.088219251 #> 75  -0.092475269 -1.337459214 #> 76  -0.104658005 -1.355442136 #> 77   0.206148243 -1.218777747 #> 78   0.249852181 -1.081102768 #> 79   0.640593048 -1.251437620 #> 80   0.458483328 -1.156336667 #> 81   0.932364485 -0.972237589 #> 82   0.879947425 -0.876474063 #> 83   1.013825862 -0.733066707 #> 84   1.174850592 -0.670768776 #> 85   0.962853170 -0.491394889 #> 86   1.338546524 -0.245690550 #> 87   1.375324577 -0.342082695 #> 88   1.088404193  0.082089513 #> 89   1.281627286  0.065641940 #> 90   1.227956162  0.433694999 #> 91   1.106167956  0.543308022 #> 92   1.267129945  0.344552014 #> 93   1.145640201  0.807122654 #> 94   0.619870524  1.063242486 #> 95   0.825262256  0.634123229 #> 96   0.915071319  1.317178455 #> 97   0.519921068  1.009123990 #> 98   0.544622171  1.187662725 #> 99  -0.006779056  1.456969296 #> 100  0.009617892  1.007788650 #>  #> $x #>              [,1] #> [1,]  0.094643590 #> [2,]  0.021171338 #> [3,] -0.001003643 #> [4,] -0.001941782 #>  #> $P #>          [,1]     [,2]      [,3]      [,4] #> [1,] 50.85794  0.00000 0.0000000 0.0000000 #> [2,]  0.00000 49.99315 0.0000000 0.0000000 #> [3,]  0.00000  0.00000 0.8361181 0.0000000 #> [4,]  0.00000  0.00000 0.0000000 0.8296371 #>  #> $F #> function (delta_t)  #> { #>     M <- matrix(c(1, 0, delta_t, 0, 0, 1, 0, delta_t, 0, 0, 1,  #>         0, 0, 0, 0, 1), nrow = 4, ncol = 4, byrow = TRUE) #>     return(M) #> } #> <bytecode: 0x56172b233668> #> <environment: 0x56172b235390> #>  #> $W #> function (delta_t)  #> { #>     M <- matrix(c(delta_t^2 * var_x, 0, delta_t * var_x, 0, 0,  #>         delta_t^2 * var_y, 0, delta_t * var_y, delta_t * var_x,  #>         0, var_x, 0, 0, delta_t * var_y, 0, var_y), nrow = 4,  #>         ncol = 4, byrow = TRUE) #>     return(M) #> } #> <bytecode: 0x56172b232bb0> #> <environment: 0x56172b235390> #>  #> $B #>      [,1] #> [1,]    0 #> [2,]    0 #> [3,]    0 #> [4,]    0 #>  #> $u #>        [,1] #>   [1,]    0 #>   [2,]    0 #>   [3,]    0 #>   [4,]    0 #>   [5,]    0 #>   [6,]    0 #>   [7,]    0 #>   [8,]    0 #>   [9,]    0 #>  [10,]    0 #>  [11,]    0 #>  [12,]    0 #>  [13,]    0 #>  [14,]    0 #>  [15,]    0 #>  [16,]    0 #>  [17,]    0 #>  [18,]    0 #>  [19,]    0 #>  [20,]    0 #>  [21,]    0 #>  [22,]    0 #>  [23,]    0 #>  [24,]    0 #>  [25,]    0 #>  [26,]    0 #>  [27,]    0 #>  [28,]    0 #>  [29,]    0 #>  [30,]    0 #>  [31,]    0 #>  [32,]    0 #>  [33,]    0 #>  [34,]    0 #>  [35,]    0 #>  [36,]    0 #>  [37,]    0 #>  [38,]    0 #>  [39,]    0 #>  [40,]    0 #>  [41,]    0 #>  [42,]    0 #>  [43,]    0 #>  [44,]    0 #>  [45,]    0 #>  [46,]    0 #>  [47,]    0 #>  [48,]    0 #>  [49,]    0 #>  [50,]    0 #>  [51,]    0 #>  [52,]    0 #>  [53,]    0 #>  [54,]    0 #>  [55,]    0 #>  [56,]    0 #>  [57,]    0 #>  [58,]    0 #>  [59,]    0 #>  [60,]    0 #>  [61,]    0 #>  [62,]    0 #>  [63,]    0 #>  [64,]    0 #>  [65,]    0 #>  [66,]    0 #>  [67,]    0 #>  [68,]    0 #>  [69,]    0 #>  [70,]    0 #>  [71,]    0 #>  [72,]    0 #>  [73,]    0 #>  [74,]    0 #>  [75,]    0 #>  [76,]    0 #>  [77,]    0 #>  [78,]    0 #>  [79,]    0 #>  [80,]    0 #>  [81,]    0 #>  [82,]    0 #>  [83,]    0 #>  [84,]    0 #>  [85,]    0 #>  [86,]    0 #>  [87,]    0 #>  [88,]    0 #>  [89,]    0 #>  [90,]    0 #>  [91,]    0 #>  [92,]    0 #>  [93,]    0 #>  [94,]    0 #>  [95,]    0 #>  [96,]    0 #>  [97,]    0 #>  [98,]    0 #>  [99,]    0 #> [100,]    0 #>  #> $H #>      [,1] [,2] [,3] [,4] #> [1,]    1    0    0    0 #> [2,]    0    1    0    0 #>  #> $R #>      [,1] [,2] #> [1,]  0.1  0.0 #> [2,]  0.0  0.1 #>"},{"path":"https://github.com/ndpvh/denoiser/reference/denoiser-package.html","id":null,"dir":"Reference","previous_headings":"","what":"denoiser: Noising and denoising spatial data — denoiser-package","title":"denoiser: Noising and denoising spatial data — denoiser-package","text":"Noiser denoiser functions used preprocessing spatial data. Based calibration project M4MA team.","code":""},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/reference/denoiser.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter the data — denoiser","title":"Filter the data — denoiser","text":"denoiser() function takes dataset attempts filter inherent measurement error. function makes use two steps: data go Kalman filter binned, according specifications user (see kalman_filter() bin()). Note first step mandatory left user whether also like bin data specifying argument binned.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/denoiser.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter the data — denoiser","text":"","code":"denoiser(   data,   cols = NULL,   .by = NULL,   binned = FALSE,   span = 0.5,   fx = mean,   ... )"},{"path":"https://github.com/ndpvh/denoiser/reference/denoiser.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter the data — denoiser","text":"data Dataframe contains information location (x- y-coordinates) time measurement taken. default, denoiser() assume information contained within columns \"x\", \"y\", \"time\" respectively. case, either change column names data specify cols argument. cols Named vector named list containing relevant column names data conform prespecified column names \"time\", \"x\", \"y\". labels conform prespecified column names values given locations contain corresponding column names dataset. Defaults NULL, therefore assuming structure explained data. .String denoting whether moving window taken respect given grouping variable. Defaults NULL. binned Logical denoting whether also bin data (TRUE) leave data unbinned (FALSE). Defaults FALSE. span Numeric denoting size bins. pertain values \"time\" variable. Defaults 0.5. Ignored binned FALSE. fx Function execute data falls within bin. executed \"x\" \"y\" columns separately ouput single value. Defaults function mean(). Ignored binned FALSE. ... Additional arguments defining Kalman filter employ filtering. See kalman_filter().","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/denoiser.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter the data — denoiser","text":"Smoothed /binned data.frame similar structure data","code":""},{"path":[]},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/reference/finalize.html","id":null,"dir":"Reference","previous_headings":"","what":"Finalize data after analysis — finalize","title":"Finalize data after analysis — finalize","text":"Function used internally change data back original format conducting analysis, either binning (bin()) using Kalman filter (kalman_filter()). finalization consists renaming columns user-defined column names instead package- required ones deleting grouping variable originally present data.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/finalize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Finalize data after analysis — finalize","text":"","code":"finalize(data, cols = NULL, .by = NULL)"},{"path":"https://github.com/ndpvh/denoiser/reference/finalize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Finalize data after analysis — finalize","text":"data Dataframe contains information location (x- y-coordinates) time measurement taken. assumed information contained within columns \"x\", \"y\", \"time\" respectively. cols Named vector named list containing mapping original column names internal ones used within package. Defaults NULL, therefore assuming structure explained data. .String denoting whether moving window taken respect given grouping variable. Defaults NULL.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/finalize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Finalize data after analysis — finalize","text":"Adjusted data.frame","code":""},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/reference/finalize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Finalize data after analysis — finalize","text":"","code":"# Generate data for illustration purposes # # Note that for this to work, I need to define the package-required column  # names data <- data.frame(   x = rnorm(100),   y = rnorm(100),   time = rep(1:50, times = 2) / 10,   id = rep(1:2, each = 50) )  # Prepare the data for analysis finalize(   data,   cols = c(     \"time\" = \"seconds\",     \"x\" = \"X\",     \"y\" = \"Y\"   ),   .by = \"tag\" ) #>     seconds            X           Y #> 1       0.1  1.017491053  0.19795800 #> 2       0.2 -1.496053742 -1.20356611 #> 3       0.3 -1.184818730 -0.03981704 #> 4       0.4  0.630234373  0.68698246 #> 5       0.5  2.101252514  0.70526701 #> 6       0.6 -0.613736810  0.99144168 #> 7       0.7 -1.634638272  1.14424897 #> 8       0.8 -0.010441117 -1.23891024 #> 9       0.9 -0.656506139  2.65489833 #> 10      1.0 -0.669533441 -0.15691719 #> 11      1.1 -0.478589028 -0.42349012 #> 12      1.2  1.319456316 -0.19838706 #> 13      1.3  0.636562761 -0.89480241 #> 14      1.4  0.514327782  0.90426912 #> 15      1.5 -1.751375113  0.07964921 #> 16      1.6  0.893597518 -1.25882722 #> 17      1.7  0.223038372  1.02568511 #> 18      1.8  0.580816593 -0.73077860 #> 19      1.9 -0.177821421 -0.19014551 #> 20      2.0  0.740966708  0.52886469 #> 21      2.1 -0.997443079  0.55021053 #> 22      2.2 -2.938977561  0.54968434 #> 23      2.3  0.719015661 -0.65954237 #> 24      2.4 -0.698005041  0.05742171 #> 25      2.5 -1.894125843 -2.80801051 #> 26      2.6  0.076299249 -0.91225975 #> 27      2.7  0.875308501 -0.78237916 #> 28      2.8  0.453827393 -0.66410492 #> 29      2.9 -0.850716906  0.62630977 #> 30      3.0  0.566201613 -0.50724821 #> 31      3.1  1.152211954  0.27036133 #> 32      3.2 -0.756197377  0.46747686 #> 33      3.3 -0.489258334  0.72399496 #> 34      3.4 -1.166052337  0.61383694 #> 35      3.5 -0.479668950 -0.61786920 #> 36      3.6  0.115348218  0.22072490 #> 37      3.7 -1.768048407  1.12792660 #> 38      3.8 -1.407638919  1.81345434 #> 39      3.9  0.709178461 -0.08382568 #> 40      4.0 -1.240842940  1.36770667 #> 41      4.1 -0.368327348 -0.62743462 #> 42      4.2  0.462080093 -0.21662915 #> 43      4.3 -0.322833101 -0.68371382 #> 44      4.4 -1.287214810 -0.44470273 #> 45      4.5 -1.030040247  0.60648981 #> 46      4.6  1.514089316  0.62418307 #> 47      4.7  0.346903586 -0.69543107 #> 48      4.8  1.779441542 -0.78363908 #> 49      4.9  0.386630924 -0.95312386 #> 50      5.0 -0.918695239  1.79275607 #> 51      0.1 -1.584336488  0.34897670 #> 52      0.2 -0.084058892  0.25910377 #> 53      0.3 -2.085070889 -0.80595190 #> 54      0.4  0.003567992  0.10566470 #> 55      0.5 -0.355770822 -0.33359968 #> 56      0.6  1.146359751  1.64184797 #> 57      0.7 -0.221188446 -0.64390586 #> 58      0.8  1.018179021  0.58702056 #> 59      0.9 -0.263719295 -0.15040309 #> 60      1.0  1.658542305 -1.71082185 #> 61      1.1 -0.774086771  1.43103256 #> 62      1.2 -0.923937880 -2.64521227 #> 63      1.3 -0.275533378 -1.03245741 #> 64      1.4 -0.593399688 -0.70746643 #> 65      1.5 -0.122285891 -0.70056001 #> 66      1.6  1.179784246  0.53788544 #> 67      1.7  0.641037374 -0.31633217 #> 68      1.8 -0.629588508 -0.83962275 #> 69      1.9 -0.807734971 -1.35492806 #> 70      2.0 -0.860489929 -0.81756827 #> 71      2.1 -2.169238693 -0.63440000 #> 72      2.2 -1.375836518  0.81594943 #> 73      2.3 -0.493132472  0.30279571 #> 74      2.4 -0.581652027  1.80708662 #> 75      2.5 -0.167229304 -0.89402676 #> 76      2.6  0.485993129 -0.04642821 #> 77      2.7 -1.333395796 -0.47117914 #> 78      2.8 -0.261965625 -0.52669263 #> 79      2.9  0.652386303 -0.09513491 #> 80      3.0  0.748854971 -2.49536481 #> 81      3.1  0.896560285  0.16688922 #> 82      3.2  1.489300424  0.35049238 #> 83      3.3 -0.659403481  1.43370101 #> 84      3.4  0.537283179  0.76590680 #> 85      3.5  0.746803067  1.16752067 #> 86      3.6  1.896317084 -0.13694343 #> 87      3.7 -2.060070725 -0.51490204 #> 88      3.8  0.064543870  1.51974447 #> 89      3.9 -0.265147403 -0.32849168 #> 90      4.0 -0.447344531 -0.05367151 #> 91      4.1 -1.410700927 -0.56352463 #> 92      4.2 -0.506418882 -0.74390896 #> 93      4.3 -0.269761838 -0.10904165 #> 94      4.4 -1.085154918 -0.56082923 #> 95      4.5  0.362159127  0.18800155 #> 96      4.6 -0.335672143  0.74885094 #> 97      4.7  1.363804498 -1.91653832 #> 98      4.8 -0.711524136  0.23609585 #> 99      4.9  0.662178797  0.62895342 #> 100     5.0  0.291130223  0.41792568"},{"path":"https://github.com/ndpvh/denoiser/reference/kalman_filter.html","id":null,"dir":"Reference","previous_headings":"","what":"Smooth using a Kalman filter — kalman_filter","title":"Smooth using a Kalman filter — kalman_filter","text":"higher-level function first look whether data needs processed given variable. run Kalman filter grouped data.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kalman_filter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Smooth using a Kalman filter — kalman_filter","text":"","code":"kalman_filter(   data,   model = \"constant_velocity\",   cols = NULL,   .by = NULL,   N_min = 5,   ... )"},{"path":"https://github.com/ndpvh/denoiser/reference/kalman_filter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Smooth using a Kalman filter — kalman_filter","text":"data Dataframe contains information location (x- y-coordinates) time measurement taken. default, kalman_filter() assume information contained within columns \"x\", \"y\", \"time\" respectively. case, either change column names data specify cols argument. model String denoting model use. Defaults \"constant_velocity\", currently one implemented. cols Named vector named list containing relevant column names data contain prespecified column names \"time\", \"x\", \"y\". labels conform prespecified column names values given locations contain corresponding column names dataset. Defaults NULL, therefore assuming structure explained data. .String denoting whether moving window taken respect given grouping variable. Defaults NULL. N_min Integer denoting minimum number datapoints needed use Kalman filter. Defaults 5. ... Additional arguments provided loaded model. information, see constant_velocity().","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kalman_filter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Smooth using a Kalman filter — kalman_filter","text":"Smoothed dataframe similar structure data","code":""},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/reference/kalman_filter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Smooth using a Kalman filter — kalman_filter","text":"","code":"# Generate data for illustration purposes. Movement in circular motion at a # pace of 1.27m/s with some added noise of SD = 10cm. angles <- seq(0, 4 * pi, length.out = 100) coordinates <- 10 * cbind(cos(angles), sin(angles)) coordinates <- coordinates + rnorm(200, mean = 0, sd = 0.1)  data <- data.frame(   X = coordinates[, 1],   Y = coordinates[, 2],   seconds = rep(1:50, times = 2),   tag = rep(1:2, each = 50) )  # Use the Kalman filter with the constant velocity model on these data to  # filter out the measurement error. Provide an assumed variance of 0.01  # to this model kalman_filter(   data,   model = \"constant_velocity\",   cols = c(     \"time\" = \"seconds\",     \"x\" = \"X\",     \"y\" = \"Y\"   ),   .by = \"tag\",   error = 0.01 ) #>     seconds           X            Y tag #> 1         1   9.9474480  -0.05207172   1 #> 2         2   9.8093754   1.19438825   1 #> 3         3   9.5856083   2.44772171   1 #> 4         4   9.3317320   3.72697734   1 #> 5         5   8.6637366   4.97995796   1 #> 6         6   8.0753284   5.97680945   1 #> 7         7   7.1192981   7.12637439   1 #> 8         8   6.0614256   7.78080050   1 #> 9         9   5.1219970   8.29906730   1 #> 10       10   4.1117189   9.05157970   1 #> 11       11   2.8775367   9.51449460   1 #> 12       12   1.7234749   9.97031313   1 #> 13       13   0.6089901   9.84138699   1 #> 14       14  -0.8743112   9.93507820   1 #> 15       15  -1.9855895   9.78875460   1 #> 16       16  -3.4093392   9.21601882   1 #> 17       17  -4.3293656   9.04436571   1 #> 18       18  -5.6749145   8.18532239   1 #> 19       19  -6.4449377   7.59907240   1 #> 20       20  -7.3810844   6.80699744   1 #> 21       21  -8.3230939   5.67262885   1 #> 22       22  -9.0005368   4.57105340   1 #> 23       23  -9.4038470   3.44692379   1 #> 24       24  -9.6748834   2.23452444   1 #> 25       25 -10.0040234   0.93328029   1 #> 26       26  -9.9050634  -0.26251883   1 #> 27       27  -9.8909493  -1.59708001   1 #> 28       28  -9.7074784  -2.89889841   1 #> 29       29  -9.2587716  -4.17368632   1 #> 30       30  -8.5539353  -5.09016380   1 #> 31       31  -7.7737721  -6.00625589   1 #> 32       32  -7.1281158  -7.06602988   1 #> 33       33  -6.1733728  -7.85901741   1 #> 34       34  -5.1446529  -8.64820616   1 #> 35       35  -3.9151913  -9.33257357   1 #> 36       36  -2.5819023  -9.75584810   1 #> 37       37  -1.3429399  -9.95387314   1 #> 38       38  -0.1747087 -10.06790854   1 #> 39       39   1.1676734  -9.96122475   1 #> 40       40   2.2830356  -9.55323581   1 #> 41       41   3.6548383  -9.44148565   1 #> 42       42   4.7274031  -8.83580943   1 #> 43       43   5.8229152  -8.15144570   1 #> 44       44   6.7144405  -7.44160067   1 #> 45       45   7.5390169  -6.39023646   1 #> 46       46   8.4522167  -5.39444846   1 #> 47       47   8.9588102  -4.29277823   1 #> 48       48   9.4843859  -3.21205147   1 #> 49       49   9.8562503  -1.80616255   1 #> 50       50   9.9541461  -0.71048384   1 #> 51        1   9.9884168   0.70092642   2 #> 52        2   9.8918772   1.90063591   2 #> 53        3   9.4436070   3.13273724   2 #> 54        4   8.9195263   4.14718505   2 #> 55        5   8.4652431   5.42362892   2 #> 56        6   7.7371479   6.36004217   2 #> 57        7   6.6668050   7.38118245   2 #> 58        8   5.8993541   8.28699222   2 #> 59        9   4.7732315   8.85578776   2 #> 60       10   3.6479885   9.18778353   2 #> 61       11   2.3465682   9.71077139   2 #> 62       12   1.0157326   9.99257248   2 #> 63       13  -0.1964853  10.05635266   2 #> 64       14  -1.4078012   9.98662248   2 #> 65       15  -2.6233751   9.70932990   2 #> 66       16  -3.6178819   9.20993719   2 #> 67       17  -5.2112412   8.48453009   2 #> 68       18  -6.0227506   7.85286628   2 #> 69       19  -7.0482624   7.21006338   2 #> 70       20  -7.9268383   6.24609476   2 #> 71       21  -8.5873641   5.12646782   2 #> 72       22  -9.1208905   4.10155063   2 #> 73       23  -9.6581791   2.72529516   2 #> 74       24  -9.7642776   1.60264094   2 #> 75       25 -10.0169551   0.26519298   2 #> 76       26 -10.1206891  -0.85995866   2 #> 77       27  -9.9082684  -2.25377436   2 #> 78       28  -9.6031200  -3.46748595   2 #> 79       29  -8.9674583  -4.62687837   2 #> 80       30  -8.2511809  -5.73286318   2 #> 81       31  -7.3541441  -6.62603786   2 #> 82       32  -6.3333424  -7.50940859   2 #> 83       33  -5.3070399  -8.27289449   2 #> 84       34  -4.5397648  -9.18727828   2 #> 85       35  -3.2714309  -9.42684972   2 #> 86       36  -2.1240058  -9.64801309   2 #> 87       37  -0.8721825  -9.83128956   2 #> 88       38   0.4028689  -9.88417392   2 #> 89       39   1.8032380  -9.78665995   2 #> 90       40   2.9490821  -9.44345321   2 #> 91       41   4.0041856  -8.96235866   2 #> 92       42   5.2121677  -8.46128490   2 #> 93       43   6.1067607  -7.54935640   2 #> 94       44   7.2746611  -6.88409394   2 #> 95       45   8.1114028  -5.79633930   2 #> 96       46   8.7437363  -4.90887482   2 #> 97       47   9.3730833  -3.56839622   2 #> 98       48   9.6458881  -2.54944837   2 #> 99       49   9.9795349  -1.32036046   2 #> 100      50  10.0030263   0.08295978   2"},{"path":"https://github.com/ndpvh/denoiser/reference/kalman_models.html","id":null,"dir":"Reference","previous_headings":"","what":"List of Kalman filter models — kalman_models","title":"List of Kalman filter models — kalman_models","text":"List Kalman filter models","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kalman_models.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List of Kalman filter models — kalman_models","text":"","code":"kalman_models"},{"path":"https://github.com/ndpvh/denoiser/reference/kalman_models.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"List of Kalman filter models — kalman_models","text":"object class list length 1.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_innovation.html","id":null,"dir":"Reference","previous_headings":"","what":"Innovation step in the Kalman filter — kf_innovation","title":"Innovation step in the Kalman filter — kf_innovation","text":"Innovation step Kalman filter","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_innovation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Innovation step in the Kalman filter — kf_innovation","text":"","code":"kf_innovation(z, x, P, H, R)"},{"path":"https://github.com/ndpvh/denoiser/reference/kf_innovation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Innovation step in the Kalman filter — kf_innovation","text":"z Vector measured values time t + 1 x Vector predicted values movement equation time t + 1. P Cholesky decomposition estimation covariance matrix time t + 1. H Matrix relating values x values y. R Cholesky decomposition measurement noise covariance matrix.#'","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_innovation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Innovation step in the Kalman filter — kf_innovation","text":"Named list innovation (\"y\"), Cholesky decomposition covariance matrix (\"S\"), Kalman gain (\"K\")","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_innovation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Innovation step in the Kalman filter — kf_innovation","text":"innovation step, compute much error expect measurement movement equation correct prediction. expected \"innovation\" defined : $$\\mathbf{y}_i = \\mathbf{z}_i - H \\mathbf{x}_i$$ \\(\\mathbf{z}\\) measurement, \\(H\\) measurement matrix, \\(\\mathbf{x}\\) prediction obtained prediction step. also compute covariance matrix innovation, defined : $$\\Sigma_i = H P_i H^T + R$$ \\(R\\) contains (assumed) measurement covariances. interesting note value \\(\\Sigma\\) always symmetric value \\(H\\). Whether Cholesky decomposition exists, however, depend \\(H\\) \\(P\\). final step, compute Kalman gain using covariance prediction total covariance measurement process following equation: $$K_i = P_i H^T \\Sigma_i^{-1}$$ one may notice, Kalman gain measure much can trust prediction, specifically putting prediction covariance total variance. thus related measure reliability.","code":""},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/reference/kf_predict.html","id":null,"dir":"Reference","previous_headings":"","what":"Prediction step in the Kalman filter — kf_predict","title":"Prediction step in the Kalman filter — kf_predict","text":"Prediction step Kalman filter","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_predict.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prediction step in the Kalman filter — kf_predict","text":"","code":"kf_predict(   x0,   P0,   F,   W,   u = matrix(0, nrow = length(x0), ncol = 1),   B = matrix(0, nrow = length(u), ncol = length(u)) )"},{"path":"https://github.com/ndpvh/denoiser/reference/kf_predict.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prediction step in the Kalman filter — kf_predict","text":"x0 Vector values movement equation time t. P0 Cholesky decomposition covariance x0 time t. F Transition matrix, relating values X time t t. W Cholesky decomposition process noise covariance matrix. u Vector values external variables time t. default empty vector. B Matrix connects external variables u values x. default empty matrix.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_predict.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prediction step in the Kalman filter — kf_predict","text":"Named list predicted values \\(\\mathbf{x}\\) (\"x\") \\(P\\) (\"P\") next time point.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_predict.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prediction step in the Kalman filter — kf_predict","text":"step, use movement equation predict new values x based initial condition defined location \\(\\mathbf{x}\\) covariance \\(P\\) time \\(t_{- 1}\\), using equation: $$\\mathbf{x}_t = F_i \\mathbf{x}_{- 1} + B_i \\mathbf{u}_i + \\mathbf{\\epsilon}_i$$ \\(F\\) movement transition matrix, \\(B\\) scales external influences \\(\\mathbf{u}\\), \\(\\mathbf{\\epsilon}\\) defines error, terms defined time point \\(t_i\\). covariance \\(P\\) also updated based equation, representing certainty around prediction \\(\\mathbf{x}_i\\). covariance updated following equation: $$P_i = F_i P_{- 1} F_i^T + W_i$$ \\(W\\) represents covariance matrix \\(\\epsilon\\). stability purposes, use Cholesky decompositions covariance matrices rather actual covariance matrices. needs taken account making model.","code":""},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/reference/kf_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Updating step in the Kalman filter — kf_update","title":"Updating step in the Kalman filter — kf_update","text":"Updating step Kalman filter","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Updating step in the Kalman filter — kf_update","text":"","code":"kf_update(x, P, y, H, K)"},{"path":"https://github.com/ndpvh/denoiser/reference/kf_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Updating step in the Kalman filter — kf_update","text":"x Vector predicted values movement equation time t + 1. P Cholesky decomposition estimation covariance matrix time t + 1. y Vector innovations time t + 1 H Measurement matrix connecting measurement movement. K Kalman gain","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Updating step in the Kalman filter — kf_update","text":"List containing smoothed value \\(x\\) (\"x\") together Cholesky decomposition covariance (\"P\")","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/kf_update.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Updating step in the Kalman filter — kf_update","text":"update step, use measurement innovation \\(\\mathbf{y}_i\\) predicted value \\(\\mathbf{x}_i\\) combine guess latent state system . , use following equation: $$\\hat{\\mathbf{x}}_i = \\mathbf{x}_i + K \\mathbf{y}$$ \\(\\mathbf{x}\\) prediction coming prediction step, \\(\\mathbf{y}\\) innovation derived innovation step, \\(K\\) Kalman gain, \\(\\hat{\\mathbf{x}}\\) latent state system. also compute covariance update: $$\\hat{P}_i = (- K H) P_i$$ identity matrix, \\(H\\) measurement matrix, \\(K\\) Kalman gain, \\(P_i\\) covariance prediction derived prediction step, \\(\\hat{P}_i\\) estimated certainty around guess \\(\\hat{\\mathbf{x}}_i\\). Note values \\(\\hat{\\mathbf{x}}_i\\) \\(\\hat{P}_i\\) used initial conditions next time step \\(t_{+ 1}\\), therefore serving input prediction step starting cycle .","code":""},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/reference/noiser.html","id":null,"dir":"Reference","previous_headings":"","what":"Add noise to the data — noiser","title":"Add noise to the data — noiser","text":"noiser() function takes dataset adds measurement error . , currently makes use one two potential measurement models: One measurement error independent time (independent()) one measurement error depend time (temporal()).","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/noiser.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add noise to the data — noiser","text":"","code":"noiser(data, cols = NULL, .by = NULL, model = \"temporal\", ...)"},{"path":"https://github.com/ndpvh/denoiser/reference/noiser.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add noise to the data — noiser","text":"data Dataframe contains information location (x- y-coordinates) time measurement taken. default, denoiser() assume information contained within columns \"x\", \"y\", \"time\" respectively. case, either change column names data specify cols argument. cols Named vector named list containing relevant column names data conform prespecified column names \"time\", \"x\", \"y\". labels conform prespecified column names values given locations contain corresponding column names dataset. Defaults NULL, therefore assuming structure explained data. .String denoting whether moving window taken respect given grouping variable. Defaults NULL. model String denoting model used noising data. Either \"independent\" \"temporal\", calling independent() temporal() model respectively. Defaults \"temporal\". ... Additional arguments provided measurement error models. information, see independent() temporal().","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/noiser.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add noise to the data — noiser","text":"Noised data.frame similar structure data","code":""},{"path":[]},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/reference/prepare.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare data for analysis — prepare","title":"Prepare data for analysis — prepare","text":"Function used internally prepare data analysis, either binning (bin()) using Kalman filter (kalman_filter()). preparation consists following steps. First, function checks whether provided data actually data.frame, required functions work properly. , function examines column names argument cols. provided, check whether adhere required format , , change column names data default ones used package (change later undone finalize()). Finally, function check whether grouping variable specified ., prepares data grouping.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/prepare.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare data for analysis — prepare","text":"","code":"prepare(data, cols = NULL, .by = NULL)"},{"path":"https://github.com/ndpvh/denoiser/reference/prepare.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare data for analysis — prepare","text":"data Dataframe contains information location (x- y-coordinates) time measurement taken. default, prepare() assume information contained within columns \"x\", \"y\", \"time\" respectively. case, either change column names data specify cols argument. cols Named vector named list containing relevant column names data conform prespecified column names \"time\", \"x\", \"y\". labels conform prespecified column names values given locations contain corresponding column names dataset. Defaults NULL, therefore assuming structure explained data. .String denoting whether moving window taken respect given grouping variable. Defaults NULL.","code":""},{"path":"https://github.com/ndpvh/denoiser/reference/prepare.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare data for analysis — prepare","text":"Named list containing prepared data.frame (\"data\"), mapping user-specified package-required column names (\"cols\"), values grouping variable (\"group\").","code":""},{"path":[]},{"path":"https://github.com/ndpvh/denoiser/reference/prepare.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare data for analysis — prepare","text":"","code":"# Generate data for illustration purposes data <- data.frame(   X = rnorm(100),   Y = rnorm(100),   seconds = rep(1:50, times = 2) / 10,   tag = rep(1:2, each = 50) )  # Prepare the data for analysis prepare(   data,   cols = c(     \"time\" = \"seconds\",     \"x\" = \"X\",     \"y\" = \"Y\"   ),   .by = \"tag\" ) #> $data #>     time           x           y id #> 1    0.1 -0.82935177  0.80312186  1 #> 2    0.2 -0.21869594 -0.41579535  1 #> 3    0.3 -1.54508372  1.21248959  1 #> 4    0.4  0.23322978  1.24036003  1 #> 5    0.5  0.03106964  0.68567588  1 #> 6    0.6  0.35786565 -0.02679868  1 #> 7    0.7  1.60862422  0.30958051  1 #> 8    0.8  1.42985426  0.24986433  1 #> 9    0.9 -0.94833964 -1.35646087  1 #> 10   1.0  1.01570554  0.59937977  1 #> 11   1.1  0.03773461  0.00864779  1 #> 12   1.2 -1.74423940  0.09071661  1 #> 13   1.3 -0.97007381 -0.65705741  1 #> 14   1.4 -0.22902736 -0.48178225  1 #> 15   1.5 -0.97484568  0.01775788  1 #> 16   1.6  2.69237242 -0.85953576  1 #> 17   1.7  1.39239386  1.35770498  1 #> 18   1.8  1.36007615  1.21506118  1 #> 19   1.9 -0.36541588  1.45391292  1 #> 20   2.0 -0.86893720 -0.08591198  1 #> 21   2.1 -0.50655673 -0.61756875  1 #> 22   2.2  1.21470730 -0.21826025  1 #> 23   2.3  0.50695868 -1.32600521  1 #> 24   2.4 -2.09497131 -2.36220890  1 #> 25   2.5  0.03407924 -1.40996955  1 #> 26   2.6  0.85272870  0.25439714  1 #> 27   2.7  0.74322814  0.29587030  1 #> 28   2.8  0.55715361  0.05678979  1 #> 29   2.9 -1.24858322 -0.10265486  1 #> 30   3.0 -0.20787431  1.95192303  1 #> 31   3.1  0.42396946  0.87856596  1 #> 32   3.2 -0.50669744 -1.30661693  1 #> 33   3.3 -0.61152331  0.09034427  1 #> 34   3.4  2.41165945  0.90235804  1 #> 35   3.5 -0.16495814  0.54942132  1 #> 36   3.6 -0.44040605 -0.86983920  1 #> 37   3.7  0.52197617 -0.03921465  1 #> 38   3.8 -1.91832225 -0.51845168  1 #> 39   3.9 -1.98264996 -0.91184962  1 #> 40   4.0  0.52120016  0.15031364  1 #> 41   4.1  0.77778320  0.44035545  1 #> 42   4.2 -0.81211887  1.31978206  1 #> 43   4.3  0.91074832  0.24656113  1 #> 44   4.4  0.94875395  0.94182660  1 #> 45   4.5 -1.34804945 -0.34215133  1 #> 46   4.6  0.35417586 -0.27614681  1 #> 47   4.7  0.53026393  0.38365678  1 #> 48   4.8 -0.31097493  1.44691022  1 #> 49   4.9 -0.24415553  1.73390029  1 #> 50   5.0 -0.29187819  0.45642938  1 #> 51   0.1 -1.12808616  0.70750349  2 #> 52   0.2 -1.12288159  2.06378922  2 #> 53   0.3  2.05393864  0.02391059  2 #> 54   0.4 -0.90951843  0.24594946  2 #> 55   0.5  0.45837916  0.27205914  2 #> 56   0.6 -0.04661845 -0.99245858  2 #> 57   0.7 -0.68095460 -0.02757795  2 #> 58   0.8 -1.48882940  2.22284516  2 #> 59   0.9 -0.39251301  0.15550390  2 #> 60   1.0 -1.74968202 -0.86911632  2 #> 61   1.1 -0.03866763 -1.17448945  2 #> 62   1.2 -0.79715324 -1.75967731  2 #> 63   1.3 -0.91592054  0.05836159  2 #> 64   1.4  0.07326746  1.16451986  2 #> 65   1.5  1.23817132  0.33762789  2 #> 66   1.6  0.71837134 -1.05451872  2 #> 67   1.7  0.53946650  0.66076911  2 #> 68   1.8 -1.06123399 -0.82340900  2 #> 69   1.9 -0.54073787  0.43703366  2 #> 70   2.0 -0.71520471  0.37238811  2 #> 71   2.1 -0.17892009 -1.64674913  2 #> 72   2.2  0.16497028 -1.92355227  2 #> 73   2.3 -0.72740817  0.38083303  2 #> 74   2.4 -0.53783713  1.37570535  2 #> 75   2.5 -0.59966490  0.82584873  2 #> 76   2.6  1.18208775 -0.41611500  2 #> 77   2.7  0.18921288  0.98214959  2 #> 78   2.8  0.24894911  0.24218073  2 #> 79   2.9  1.04664341 -0.93792685  2 #> 80   3.0 -1.28930094  1.50585850  2 #> 81   3.1  0.37511557 -1.06585117  2 #> 82   3.2 -0.55691839  0.16227053  2 #> 83   3.3  0.30242663  0.26047039  2 #> 84   3.4  0.22226647 -1.48820199  2 #> 85   3.5 -0.96216696  1.41518387  2 #> 86   3.6  0.05203237  0.56250751  2 #> 87   3.7  0.90004038  0.64205574  2 #> 88   3.8 -0.39490088 -0.89053264  2 #> 89   3.9  0.95414600 -0.11653752  2 #> 90   4.0 -0.58821435 -0.94197475  2 #> 91   4.1 -1.47658453  1.11582792  2 #> 92   4.2 -1.37777577  0.47013513  2 #> 93   4.3 -1.34567231  0.86061271  2 #> 94   4.4 -0.73663796 -0.07039665  2 #> 95   4.5 -0.47011150 -0.61318021  2 #> 96   4.6  1.38060934 -0.33671496  2 #> 97   4.7  1.67501093 -0.21584018  2 #> 98   4.8  1.17690663  0.62113229  2 #> 99   4.9 -0.14889834 -1.28402652  2 #> 100  5.0 -0.17782336 -1.30009244  2 #>  #> $cols #>      time         x         y        id  #> \"seconds\"       \"X\"       \"Y\"     \"tag\"  #>  #> $group #> [1] 1 2 #>"}]
