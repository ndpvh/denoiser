<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Finalize data after analysis — finalize • denoiser</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Finalize data after analysis — finalize"><meta name="description" content="Function that is used internally to change the data back to their original
format after conducting an analysis, it being either binning
(bin()) or using the Kalman filter
(kalman_filter()). The finalization consists of
renaming the columns to the user-defined column names instead of the package-
required ones and deleting the grouping variable if it was not originally
present in the data."><meta property="og:description" content="Function that is used internally to change the data back to their original
format after conducting an analysis, it being either binning
(bin()) or using the Kalman filter
(kalman_filter()). The finalization consists of
renaming the columns to the user-defined column names instead of the package-
required ones and deleting the grouping variable if it was not originally
present in the data."><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">denoiser</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-usage" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Usage</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-usage"><li><a class="dropdown-item" href="../articles/getting_started.html">Getting started</a></li>
    <li><a class="dropdown-item" href="../articles/noiser_vignette.html">Adding noise</a></li>
    <li><a class="dropdown-item" href="../articles/denoiser_vignette.html">Filtering data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/ndpvh/denoiser/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Finalize data after analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/ndpvh/denoiser/blob/main/R/finalize.R"><code>R/finalize.R</code></a></small>
      <div class="d-none name"><code>finalize.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function that is used internally to change the data back to their original
format after conducting an analysis, it being either binning
(<code><a href="bin.html">bin()</a></code>) or using the Kalman filter
(<code><a href="kalman_filter.html">kalman_filter()</a></code>). The finalization consists of
renaming the columns to the user-defined column names instead of the package-
required ones and deleting the grouping variable if it was not originally
present in the data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">finalize</span><span class="op">(</span><span class="va">data</span>, cols <span class="op">=</span> <span class="cn">NULL</span>, .by <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Dataframe that contains information on location (x- and
y-coordinates) and the time at which the measurement was taken. It is assumed
that this information is contained within the columns <code>"x"</code>, <code>"y"</code>,
and <code>"time"</code> respectively.</p></dd>


<dt id="arg-cols">cols<a class="anchor" aria-label="anchor" href="#arg-cols"></a></dt>
<dd><p>Named vector or named list containing the mapping of the original
column names to the internal ones used within the package. Defaults to
<code>NULL</code>, therefore assuming the structure explained in <code>data</code>.</p></dd>


<dt id="arg--by">.by<a class="anchor" aria-label="anchor" href="#arg--by"></a></dt>
<dd><p>String denoting whether the moving window should be taken with
respect to a given grouping variable. Defaults to <code>NULL</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Adjusted <code>data.frame</code></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="prepare.html">prepare()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Generate data for illustration purposes</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Note that for this to work, I need to define the package-required column </span></span></span>
<span class="r-in"><span><span class="co"># names</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, each <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Prepare the data for analysis</span></span></span>
<span class="r-in"><span><span class="fu">finalize</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">data</span>,</span></span>
<span class="r-in"><span>  cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"time"</span> <span class="op">=</span> <span class="st">"seconds"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"x"</span> <span class="op">=</span> <span class="st">"X"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"y"</span> <span class="op">=</span> <span class="st">"Y"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  .by <span class="op">=</span> <span class="st">"tag"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     seconds            X           Y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       0.1 -0.506286298 -0.52079637</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       0.2 -1.109968853 -0.63901860</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       0.3 -0.948705723 -0.63589414</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       0.4  0.476843757  0.10658698</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       0.5 -0.795201560  1.17691425</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       0.6  0.234326923  0.44739115</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7       0.7 -1.222451097  2.27295477</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       0.8 -2.453647354  0.13605821</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       0.9 -1.489260814 -1.99903913</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      1.0 -0.432147734 -0.42050087</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11      1.1 -0.942554006 -0.37840740</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12      1.2 -0.121450799  1.22077479</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13      1.3  1.336446798 -1.54103029</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14      1.4 -0.860356182 -0.31031012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15      1.5  0.666537820 -0.02010818</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16      1.6 -1.421534746 -2.39020034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17      1.7  1.170056168  0.88986536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18      1.8 -1.404714543 -1.48281332</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19      1.9  1.101708096  0.44575035</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20      2.0  0.697986263  1.36977586</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21      2.1 -0.864349803 -0.02011003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22      2.2 -1.091470351 -0.10921759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23      2.3 -0.037051465  0.26466174</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24      2.4  0.810053792  0.30384826</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25      2.5 -0.499355412 -0.18338848</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26      2.6  0.948031588  0.55964967</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27      2.7 -0.174245957 -0.18655384</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28      2.8 -1.106235952 -0.81227537</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29      2.9 -0.945985005 -1.64058167</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30      3.0  0.289089591  0.50792248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31      3.1  0.876913145  1.75433696</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32      3.2 -1.148903940  0.59240020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33      3.3 -1.137612756  1.01671329</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34      3.4 -1.437246735  0.12162059</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35      3.5 -0.494143476 -1.07806726</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36      3.6  0.840801808 -1.14356572</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37      3.7  0.791534124 -0.52964368</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38      3.8 -0.168848948 -0.68127316</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39      3.9  0.612722104 -0.20244756</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40      4.0 -0.771158924  1.68449572</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41      4.1  0.888628993 -1.03377324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42      4.2  0.013214477 -0.15597667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43      4.3  0.225339515 -0.04640064</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44      4.4 -0.729915210 -0.95362873</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45      4.5 -1.222487070  0.41626080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46      4.6  0.406805171  0.11402961</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47      4.7 -0.751012223  0.06391875</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48      4.8 -0.162116540 -0.91933224</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49      4.9  0.352010126  0.90133529</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50      5.0 -0.289058300 -0.79772830</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51      0.1  0.104662227  0.66822120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52      0.2  0.720186531  0.15521430</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53      0.3 -0.611046082  0.12868809</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54      0.4 -1.106914072 -1.53306545</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55      0.5  0.534803326  0.20236067</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56      0.6  0.736067968 -0.71753865</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57      0.7 -1.222501574  0.36169476</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58      0.8  1.021415310  1.39900429</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59      0.9  0.465165158  0.37269896</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60      1.0  0.790472705 -1.56564429</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61      1.1 -0.130264801 -0.05169454</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62      1.2 -0.930285334  0.51408210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63      1.3 -0.364851004  0.54989952</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64      1.4  0.153872493  0.86781691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65      1.5  0.413154818  0.68436008</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66      1.6  2.480823360 -0.16267998</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67      1.7 -2.179956742 -1.78436472</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68      1.8  0.420874578 -1.03714557</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69      1.9 -0.357528325  0.83014772</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70      2.0 -0.646861514  0.60734694</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71      2.1 -0.050141801 -0.12218636</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 72      2.2  0.416942847  0.93312514</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 73      2.3 -0.632587542 -0.96127668</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74      2.4  1.150146673  0.25508171</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 75      2.5 -0.235475907 -0.54540157</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76      2.6 -1.643107386  0.93036074</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77      2.7 -1.503382146 -0.53765056</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78      2.8 -2.050584847 -0.45242607</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79      2.9 -0.753198229 -0.43929097</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80      3.0 -0.134141958 -0.61622311</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81      3.1  1.005782847  0.44163455</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 82      3.2  2.167186798  0.48259745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 83      3.3  2.322556540  0.54214438</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 84      3.4 -1.020423391 -2.29078465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 85      3.5  0.048814436  0.31035185</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 86      3.6 -0.771888628  1.40407898</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 87      3.7 -0.785235068  1.37711764</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88      3.8 -0.726603031  1.06039565</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 89      3.9  0.681878032  0.63217289</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90      4.0 -0.229843287  1.08492804</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 91      4.1 -1.510601724  1.35645944</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 92      4.2 -0.583727687  0.36242404</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 93      4.3 -2.022918454  2.16934446</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 94      4.4  0.403504676  0.13913051</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95      4.5  0.550015549  1.37632653</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 96      4.6  0.028357122 -0.49144999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 97      4.7  0.893165020  1.53491576</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 98      4.8 -0.376555496 -0.41619872</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99      4.9  0.605884808 -0.52054380</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100     5.0 -0.004874726  0.85058387</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Niels Vanhasbroeck.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

